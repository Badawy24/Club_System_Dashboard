<form [formGroup]="signupForm" (ngSubmit)="signup()">
  <div class="info">
    <h4>Create an account</h4>
    <p>Please Fill this data to join with us</p>
  </div>

  <div class="form-row">
    <app-input
      [label]="'Club name'"
      [icon]="'assets/auth/club.svg'"
      [type]="'text'"
      [placeholder]="'Enter your Club name'"
      [control]="clubNameControl"
      [errorMessages]="{
        required: 'Club name is required'
      }"
    ></app-input>

    <app-input
      [label]="'Email'"
      [icon]="'assets/auth/envelope.svg'"
      [type]="'email'"
      [placeholder]="'Enter your email'"
      [control]="emailControl"
      [errorMessages]="{
        required: 'Email is required',
        email: 'Please enter a valid email'
      }"
    ></app-input>
  </div>

  <app-input
    [label]="'Sports'"
    [icon]="'assets/auth/sport.svg'"
    [type]="'text'"
    [placeholder]="'Enter your club sports list ex: football, basketball'"
    [control]="sportsControl"
    [errorMessages]="{
      required: 'Sports is required'
    }"
  ></app-input>

  <div class="club-type" formArrayName="clubType">
    <label>Club Type</label>
    <div class="checkbox-group">
      <div class="checkbox-item">
        <input
          type="checkbox"
          [value]="'male'"
          (change)="onCheckboxChange($event)"
          [checked]="isChecked('male')"
        />
        <label>Male</label>
      </div>

      <div class="checkbox-item">
        <input
          type="checkbox"
          [value]="'female'"
          (change)="onCheckboxChange($event)"
          [checked]="isChecked('female')"
        />
        <label>Female</label>
      </div>

      <div class="checkbox-item">
        <input
          type="checkbox"
          [value]="'mixed'"
          (change)="onCheckboxChange($event)"
          [checked]="isChecked('mix')"
        />
        <label>Mix</label>
      </div>
    </div>
    <small
      class="text-danger"
      *ngIf="clubTypeArray.invalid && clubTypeArray.touched"
    >
      Club type is required
    </small>
  </div>

  <app-input
    [label]="'Club address'"
    [icon]="'assets/auth/gps.svg'"
    [type]="'text'"
    [placeholder]="'Enter your Club address'"
    [control]="clubAddressControl"
    [errorMessages]="{
      required: 'Club address is required'
    }"
  ></app-input>

  <div class="days-section">
    <label>Days of weeks</label>
    <div class="days-grid">
      <div
        class="day-item"
        *ngFor="let day of daysOfWeek"
        [class.selected]="selectedDays.includes(day.value)"
        (click)="toggleDay(day.value)"
      >
        {{ day.label }}
      </div>
      <label class="custom-checkbox">
        <input
          type="checkbox"
          [checked]="allDaysSelected"
          (change)="toggleAllDays()"
        />
        <span class="checkmark"></span>
        <span class="label">Select All Days</span>
      </label>
    </div>
  </div>

  <div class="time-section">
    <div class="time-group">
      <label>Start Time</label>
      <div class="time-input">
        <select formControlName="startTimeHour">
          <option value="" disabled>00:00</option>
          <option *ngFor="let hour of hours" [value]="hour">
            {{ hour }}:00
          </option>
        </select>
        <div class="am-pm">
          <button
            type="button"
            [class.active]="startTimeAmPm === 'AM'"
            (click)="setStartTimeAmPm('AM')"
          >
            AM
          </button>
          <button
            type="button"
            [class.active]="startTimeAmPm === 'PM'"
            (click)="setStartTimeAmPm('PM')"
          >
            PM
          </button>
        </div>
      </div>
    </div>

    <div class="time-group">
      <label>End Time</label>
      <div class="time-input">
        <select formControlName="endTimeHour">
          <option value="" disabled>00:00</option>
          <option *ngFor="let hour of hours" [value]="hour">
            {{ hour }}:00
          </option>
        </select>
        <div class="am-pm">
          <button
            type="button"
            [class.active]="endTimeAmPm === 'AM'"
            (click)="setEndTimeAmPm('AM')"
          >
            AM
          </button>
          <button
            type="button"
            [class.active]="endTimeAmPm === 'PM'"
            (click)="setEndTimeAmPm('PM')"
          >
            PM
          </button>
        </div>
      </div>
    </div>
  </div>

  <app-input
    [label]="'Password'"
    [icon]="'assets/auth/lock.svg'"
    [type]="'password'"
    [placeholder]="'..........'"
    [control]="passwordControl"
    [errorMessages]="{
      required: 'Password is required',
      minlength: 'Password must be at least 6 characters'
    }"
  ></app-input>

  <app-button
    label="Let's start"
    [loading]="loading"
    loadingText="Registering..."
  ></app-button>

  <p class="login-link">
    Have an account? <a routerLink="/auth/login">Log in</a>
  </p>
</form>
